"use strict";(self.webpackChunkyoutube_client=self.webpackChunkyoutube_client||[]).push([[818],{3818:(J,f,s)=>{s.r(f),s.d(f,{YoutubeModule:()=>I});var l=s(6895),g=s(6264),b=s(9300),C=s(5243),x=s(1884),O=s(4004),B=s(3900),t=s(4650),m=s(3877),h=s(8284),P=s(4859),p=s(3546),w=s(7392);let v=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-video-stats"]],inputs:{statistics:"statistics"},decls:17,vars:4,consts:[[1,"card-stats"],["title","views"],["fontIcon","visibility"],["title","likes"],["fontIcon","thumb_up"],["title","dislikes"],["fontIcon","thumb_down"],["title","comments"],["fontIcon","forum"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"span",1),t._UZ(2,"mat-icon",2),t.TgZ(3,"div"),t._uU(4),t.qZA()(),t.TgZ(5,"span",3),t._UZ(6,"mat-icon",4),t.TgZ(7,"div"),t._uU(8),t.qZA()(),t.TgZ(9,"span",5),t._UZ(10,"mat-icon",6),t.TgZ(11,"div"),t._uU(12),t.qZA()(),t.TgZ(13,"span",7),t._UZ(14,"mat-icon",8),t.TgZ(15,"div"),t._uU(16),t.qZA()()()),2&e&&(t.xp6(4),t.Oqu(null==n.statistics?null:n.statistics.viewCount),t.xp6(4),t.Oqu(null==n.statistics?null:n.statistics.likeCount),t.xp6(4),t.Oqu(null==n.statistics?null:n.statistics.dislikeCount),t.xp6(4),t.Oqu(null==n.statistics?null:n.statistics.commentCount))},dependencies:[w.Hw],styles:[".card-stats[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around}"]}),i})();var r=s(136);let y=(()=>{class i{ngOnInit(){this.resolveBottomColor(),this.backgroundColor=this.color}resolveBottomColor(){if(!this.dateOfPublishing)return void(this.color=r.Lw.Red);const e=(new Date).getTime(),n=new Date(this.dateOfPublishing).getTime(),c=Math.floor((e-n)/r.Kh);this.color=c>182?r.Lw.Red:c>=30?r.Lw.Yellow:c>7?r.Lw.Green:r.Lw.Blue}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=t.lG2({type:i,selectors:[["","appBackgroundHighlight",""]],hostVars:2,hostBindings:function(e,n){2&e&&t.Udp("background-color",n.backgroundColor)},inputs:{dateOfPublishing:"dateOfPublishing"}}),i})(),Z=(()=>{class i{constructor(e){this.youtubeApiService=e}onDetails(){this.youtubeApiService.onDetails(this.item.id)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.F))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-search-card"]],inputs:{item:"item"},decls:11,vars:8,consts:[["mat-card-image","",3,"src"],[3,"statistics"],[1,"card-title"],[1,"button-container"],["mat-raised-button","","color","primary",3,"click"],["appBackgroundHighlight","",3,"dateOfPublishing"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card"),t._UZ(1,"img",0),t.TgZ(2,"mat-card-actions"),t._UZ(3,"app-video-stats",1),t.qZA(),t.TgZ(4,"mat-card-title",2),t._uU(5),t.ALo(6,"slice"),t.qZA(),t.TgZ(7,"div",3)(8,"button",4),t.NdJ("click",function(){return n.onDetails()}),t._uU(9," more... "),t.qZA()(),t._UZ(10,"mat-card-footer",5),t.qZA()),2&e&&(t.xp6(1),t.Q6J("src",n.item.snippet.thumbnails.medium.url,t.LSH),t.xp6(2),t.Q6J("statistics",n.item.statistics),t.xp6(2),t.Oqu(t.Dn7(6,4,n.item.snippet.title,0,33)+"..."),t.xp6(5),t.Q6J("dateOfPublishing",n.item.snippet.publishedAt))},dependencies:[P.lW,p.a8,p.n5,p.hq,p.rt,p.G2,v,y,l.OU],styles:[".mat-card[_ngcontent-%COMP%]{background-color:#e5e5e5;flex-basis:25%;max-width:263px}.mat-card-title[_ngcontent-%COMP%]{text-align:center;height:60px;overflow:hidden}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:15px}.mat-card-footer[_ngcontent-%COMP%]{height:5px}"]}),i})(),S=(()=>{class i{transform(e,n=r._5.default){return n?[...e].sort((a,c)=>{const d=new Date(a.snippet.publishedAt).getTime(),u=new Date(c.snippet.publishedAt).getTime();return n===r._5.oldToNew?d-u:u-d}):[...e]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"sortByDate",type:i,pure:!0}),i})(),A=(()=>{class i{transform(e,n=r.km.default){return n?[...e].sort((a,c)=>{const d=+a.statistics.viewCount,u=+c.statistics.viewCount;return n===r.km.ascending?d-u:u-d}):[...e]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"sortByViews",type:i,pure:!0}),i})(),T=(()=>{class i{transform(e,n){return n?[...e].filter(a=>a.snippet.title.toLowerCase().includes(n.toLowerCase())):[...e]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"filterByWord",type:i,pure:!0}),i})();function _(i,o){1&i&&t._UZ(0,"app-search-card",3),2&i&&t.Q6J("item",o.$implicit)}function D(i,o){if(1&i&&(t.TgZ(0,"div",1),t.YNc(1,_,1,1,"app-search-card",2),t.ALo(2,"filterByWord"),t.ALo(3,"sortByViews"),t.ALo(4,"sortByDate"),t.qZA()),2&i){const e=o.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,t.xi3(3,4,t.xi3(4,7,e,n.filtersService.dateSortOrder),n.filtersService.viewsSortOrder),n.filtersService.word))}}let M=(()=>{class i{constructor(e,n){this.filtersService=e,this.youtubeApiService=n}ngOnInit(){this.youtubeApiService.searchText$.pipe((0,b.h)(e=>e.length>=3),(0,C.b)(700),(0,x.x)(),(0,O.U)(e=>e.toLowerCase()),(0,B.w)(e=>this.youtubeApiService.searchVideos(e))).subscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.q),t.Y36(h.F))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-search-list"]],decls:1,vars:1,consts:[["class","container results-list",4,"ngIf"],[1,"container","results-list"],[3,"item",4,"ngFor","ngForOf"],[3,"item"]],template:function(e,n){1&e&&t.YNc(0,D,5,10,"div",0),2&e&&t.Q6J("ngIf",n.youtubeApiService.items)},dependencies:[l.sg,l.O5,Z,S,A,T],styles:[".results-list[_ngcontent-%COMP%]{padding:30px;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;gap:30px}"]}),i})();var L=s(8505);let U=(()=>{class i{ngOnInit(){this.resolveBottomColor(),this.borderBottom=`5px solid ${this.color}`}resolveBottomColor(){if(!this.dateOfPublishing)return void(this.color=r.Lw.Red);const e=(new Date).getTime(),n=new Date(this.dateOfPublishing).getTime(),c=Math.floor((e-n)/r.Kh);this.color=c>182?r.Lw.Red:c>=30?r.Lw.Yellow:c>7?r.Lw.Green:r.Lw.Blue}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=t.lG2({type:i,selectors:[["","appBorderHighlight",""]],hostVars:2,hostBindings:function(e,n){2&e&&t.Udp("border-bottom",n.borderBottom)},inputs:{dateOfPublishing:"dateOfPublishing"}}),i})();function F(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.goBack())}),t._uU(3," < "),t.qZA(),t._UZ(4,"img",4),t.TgZ(5,"div",5)(6,"div",6)(7,"h4",7),t._uU(8),t.qZA(),t.TgZ(9,"div",8),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"h5",9),t._uU(13,"Description:"),t.qZA(),t.TgZ(14,"p",10),t._uU(15),t.qZA()(),t.TgZ(16,"div",11),t._UZ(17,"app-video-stats",12),t.qZA()()()()}if(2&i){const e=o.ngIf;t.xp6(2),t.Q6J("dateOfPublishing",e.snippet.publishedAt),t.xp6(2),t.Q6J("src",e.snippet.thumbnails.standard.url,t.LSH),t.xp6(1),t.Q6J("dateOfPublishing",e.snippet.publishedAt),t.xp6(3),t.Oqu(e.snippet.title),t.xp6(2),t.hij(" ",t.lcZ(11,7,e.snippet.publishedAt)," "),t.xp6(5),t.Oqu(e.snippet.description),t.xp6(2),t.Q6J("statistics",e.statistics)}}const Y=[{path:"",component:M},{path:":id",component:(()=>{class i{constructor(e,n,a,c){this.route=e,this.youtubeApiService=n,this.filtersService=a,this.router=c}ngOnInit(){this.filtersService.isVisible=!1,this.item$=this.youtubeApiService.searchById(this.route.snapshot.params.id).pipe((0,L.b)(n=>{n||this.router.navigate(["404"])}))}goBack(){this.router.navigate([""])}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.gz),t.Y36(h.F),t.Y36(m.q),t.Y36(g.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-details-page"]],decls:2,vars:3,consts:[["class","container details_container",4,"ngIf"],[1,"container","details_container"],[1,"card_container"],["appBackgroundHighlight","",1,"back_btn",3,"dateOfPublishing","click"],[1,"details_img",3,"src"],["appBorderHighlight","",1,"card",3,"dateOfPublishing"],[1,"info_block"],[1,"card_title"],[1,"card_subtitle"],[1,"description_title"],[1,"card_description"],[1,"stats_block"],[3,"statistics"]],template:function(e,n){1&e&&(t.YNc(0,F,18,9,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,n.item$))},dependencies:[l.O5,v,y,U,l.Ov,l.uU],styles:[".details_container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:44px 20px 0}.card_container[_ngcontent-%COMP%]{display:flex}.back_btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:32px;height:32px;padding:2px 7px;border-radius:5px 0 0 5px;color:#fff;font-size:28px}.back_btn[_ngcontent-%COMP%]:hover{cursor:pointer}.details_img[_ngcontent-%COMP%]{display:block;width:60%;border-radius:0 0 0 5px}.card[_ngcontent-%COMP%]{flex-basis:436px;padding:20px;background-color:#e5e5e5;border-bottom:5px solid green;border-radius:0 5px 5px 0;display:flex;flex-direction:column;justify-content:space-between}.info_block[_ngcontent-%COMP%]{display:flex;flex-direction:column}.card_title[_ngcontent-%COMP%]{font-size:20px;margin:0}.card_subtitle[_ngcontent-%COMP%]{font-size:10px;color:#828282;padding-top:5px}.description_title[_ngcontent-%COMP%]{margin:20px 0 5px}.card_description[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#828282;max-height:200px;overflow-y:scroll;white-space:pre-line}"]}),i})()}];let k=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.Bz.forChild(Y),g.Bz]}),i})();var H=s(3306);let I=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[l.ez,k,H.m]}),i})()}}]);